!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}({6:function(e,t){var n=this,i=null,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=null;return function(){for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];clearTimeout(i),i=setTimeout((function(){return e.apply(n,o)}),t)}},o=function(e){e.preventDefault(),new Garnish.HUD(e.target,e.target.title,{orientations:["top","bottom","right","left"]})},r=function(){var e=window.location.hash.substr(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{}),t=$("a#tab-".concat(Object.keys(e)[0]));t.length&&t.trigger("click")},l=function(e){var t=$("#main-form"),n={eventId:t.find('input[name="eventId"]').val(),CRAFT_CSRF_TOKEN:t.find('input[name="CRAFT_CSRF_TOKEN"]').val()};$.ajax({type:"POST",url:"/admin/calendar/events/render-field-layout",data:n}).done((function(t){t&&t.hasOwnProperty("success")&&t.hasOwnProperty("fieldsRendered")&&t.hasOwnProperty("fieldsSelectors")?(t.success||console.error("renderFieldLayout failed"),$("#main-form #fields").html(t.fieldsRendered),e&&e(t.fieldsSelectors)):e&&e(!1)})).fail((function(t){console.error("renderFieldLayout failed",t),e&&e()}))},s=function(e){for(var t=[],n=0;n<e.length;n++){var i=$("#fields-".concat(e[n],".lightswitch"));i.length&&i.hasClass("lightswitch")&&!t.includes(e[n])&&(i.one("change",c),t.push(e[n]));var a=$("#fields-".concat(e[n],".editable"));if(a.length&&a.hasClass("editable")&&!t.includes(e[n])){var o="fields-"+e[n],r="fields["+e[n]+"]";new Craft.EditableTable(o,r,{col1:{heading:"Column 1",handle:"column1",width:"",type:"singleline"},col2:{heading:"Column 2",handle:"column2",width:"",type:"singleline"}},{defaultValues:{},allowAdd:!0,allowDelete:!0,allowReorder:!0,minRows:null,maxRows:null}),t.push(e[n])}var l=$("#fields-".concat(e[n],".color-input"));l.length&&l.hasClass("color-input")&&t.includes(e[n])}u(),Craft.initUiElements()},u=function e(){$("#main-form").find(":input").each((function(){var t=$(this).attr("type");"hidden"==t||"submit"==t||("button"==t?$(this).is(".btn, .dashed, .add, .icon")||$(this).is(".delete, .icon")?$(this).one("click",e):$(this).hasClass("lightswitch")||$(this).one("click",d):"select"==t||"radio"==t||"checkbox"==t?$(this).one("change",d):"color"==t||("time"==t||"date"==t||"datetime-local"==t||$(this).hasClass("datepicker-date")||$(this).hasClass("datepicker-time")||$(this).hasClass("hasDatepicker")||$(this).hasClass("ui-timepicker-input")?$(this).one("change",f):$(this).one("keyup",f)))}))},c=a((function(e){e.preventDefault(),e.stopImmediatePropagation(),p()})),d=a((function(e){e.preventDefault(),e.stopImmediatePropagation(),p()}),500),f=a((function(e){e.preventDefault(),e.stopImmediatePropagation(),p()}),1e3),h=function(e){var t=$("#main-form"),n=t.attr("action"),i=t.attr("method"),a=t.serializeArray();$.ajax({type:i,url:n,data:a,beforeSend:function(){$("#main-form").find(":input, textarea").attr("disabled",!0),$(".auto-save-status").hide(),$(".auto-save-spinner").show().show().one("click",o)}}).done((function(t){t&&t.hasOwnProperty("success")&&t.success&&e&&e()})).fail((function(e){return console.error("autoSave failed",e)}))},p=function(){return h((function(){l((function(e){$("#main-form").find(":input, textarea").attr("disabled",!1),r(),s(e),$(".auto-save-spinner").hide(),$(".auto-save-status").show().one("click",o)}))}))};!function e(t){window.jQuery||window.$?(t&&t(),clearTimeout(i)):i=setTimeout((function(){return e(t)}),50)}((function(){$("#tabs a").on("click",(function(){var e=$(this);return e.parent().siblings().find(".sel").removeClass("sel"),e.addClass("sel"),$("#fields").find(".flex-fields").addClass("hidden"),$("#fields").find("#"+e.attr("data-id")).removeClass("hidden"),!1})),l((function(e){r(),s(e)}))}))}});